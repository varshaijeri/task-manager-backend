spring.datasource.url=
spring.datasource.username=
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

app.base-url=https://taskmanager-hidden-sky-719.fly.dev

# Update Swagger URLs to use variables
springdoc.swagger-ui.url=${app.base-url}/v3/api-docs
springdoc.swagger-ui.config-url=${app.base-url}/v3/api-docs/swagger-config
springdoc.swagger-ui.oauth2-redirect-url=${app.base-url}/swagger-ui/oauth2-redirect.html

# Add this new property
springdoc.swagger-ui.disable-swagger-default-url=true

spring.mvc.cors.allow-credentials=true
spring.mvc.cors.allowed-origins=https://task-manager-frontend-five-blush.vercel.app/
spring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.mvc.cors.allowed-headers=Authorization,Content-Type,X-Requested-With

# Ensure absolute URLs are used
springdoc.swagger-ui.use-root-path=true
springdoc.swagger-ui.operations-sorter=alpha
springdoc.swagger-ui.tags-sorter=alpha

# Fly.io HTTPS enforcement
server.forward-headers-strategy=framework
server.tomcat.remoteip.remote-ip-header=x-forwarded-for
server.tomcat.remoteip.protocol-header=x-forwarded-proto
server.tomcat.remoteip.internal-proxies=.*

# Ensure Swagger uses the correct base URL
springdoc.swagger-ui.oauth.redirect-url=${app.base-url}/swagger-ui/oauth2-redirect.html
springdoc.swagger-ui.urls.primary.url=${app.base-url}/v3/api-docs
springdoc.swagger-ui.urls.primary.name=Production API

# Debug Spring Security
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.web.filter=DEBUG

# Debug your custom JWT filter
logging.level.com.yourpackage.filters=DEBUG
